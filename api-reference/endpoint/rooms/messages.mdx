---
title: 'Send Room Message'
openapi: 'POST /v1/rooms/{room_id}/messages'
---

## Python Example

```python
import requests
from typing import Optional, List

# Replace with your actual API key
API_KEY = "your_api_key_here"

def send_chat_message(
    room_id: str,
    input_message: str,
    client_user_id: str,
    client_user_name: str,
    streaming: bool = False,
    voice: bool = False,
    recipients: Optional[List[str]] = None,
    replier: Optional[str] = None,
):
    data = {
        "reply": True,
        "system_input_message": False,
        "sender": {
            "client_user_id": client_user_id,
            "name": client_user_name
        },
        "recipients": [
            {
                "character_id": character_id
            } for character_id in recipients
        ] if recipients else None,
        "replier": {
            "character_id": replier
        } if replier else None,
        "contents": [
            {
                "text": {
                    "message": input_message
                }
            }
        ],
        "voice": voice,
        "streaming": streaming
    }
    response = requests.post(
        url=f"https://api.genova.gg/v1/rooms/{room_id}/messages",
        headers={"Content-Type": "application/json", "x-api-key": API_KEY},
        json=data,
        stream=True
    )
    events = []
    for chunk in response.iter_content(chunk_size=2048):
        if chunk:
            events.append(chunk.decode('utf-8'))
    return events
```

The example above demonstrates how to send a message in a room. The function:
- Takes required parameters: room_id, input_message, client_user_id, client_user_name
- Supports optional parameters: streaming, voice, recipients, replier
- Makes a POST request to the messages endpoint
- Handles streaming responses by collecting chunks
- Uses proper authentication via x-api-key header
- Returns a list of event chunks when streaming is enabled
